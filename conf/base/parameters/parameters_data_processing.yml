# Prints data frame
raw_prints:
  col_to_filter_by: day

intermediate_prints:
  explode_column:
    event_data
  columns_to_cast:
    position: int
    value_prop: string
    user_id: int
  # [old_name, new_name]
  columns_to_rename: 
    day: date
  date_col: date

primary_prints:
  date_col: date

# Taps data frame
raw_taps:
  col_to_filter_by: day

intermediate_taps:
  explode_column:
    event_data
  columns_to_cast:
    position: int
    value_prop: string
    user_id: int
  # [old_name, new_name]
  columns_to_rename: 
    day: date
  date_col: date

primary_taps:
  date_col: date

# Pays data frame
raw_pays:
  col_to_filter_by: pay_date

intermediate_pays:
  date_col: pay_date

primary_pays:
  date_col: pay_date


# Reduce Join
join_parameters:
  prints_df:
    cols_to_join:
      - date
      - user_id
      - value_prop
    join_type: left
  taps_df:
    cols_to_join:
      - date
      - user_id
      - value_prop
    join_type: left
  pays_df:
    cols_to_join:
      - pay_date
      - user_id
      - value_prop
  how: left
